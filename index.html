<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>CSS to JSON</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    </head>
    <body>
        <div class="container mt-5">
            <div class="row">
                <div class="col-xs-12 col-md-6">
                    <textarea id="sourceCSS" class="form-control" style="height: 80vh" onkeyup="cssToJson()">
@media (max-width: 800px) {
    /* This is a comment */
    #main #comments {
        margin: 0px;
        width: auto;
        background: red;
    }
    #main #buttons {
        padding: 5px 10px;
        color: blue;
    }
}

/* This is another comment */
#main #content {
    margin: 0 7.6%;
    width: auto;
}
#nav-below {
    border-bottom: 1px solid #ddd;
    margin-bottom: 1.625em;
}
                    </textarea>
                </div>
                <div class="col-xs-12 col-md-6">
                    <div id="destinationJSON"></div>
                </div>
            </div>
        </div>

        <!-- Add this if you're supporting IE 7, 8 -->
        <script type="text/javascript" src="json2.js"></script>
        <script type="text/javascript" src="cssjson.js"></script>
        <script type="text/javascript">
            function cssToJson() {
                var cssString = document.getElementById('sourceCSS').value;
                var json = CSSJSON.toJSON(cssString);

                var jsonAC = [];
                for (var className in json.children) {
                    jsonAC.push({
                        class: className,
                        style: json.children[className].attributes,
                    });
                }

                document.getElementById('destinationJSON').innerHTML =
                    '<strong>JSON</strong><br/><pre>' + JSON.stringify(jsonAC, undefined, 2) + '</pre>';
            }

            cssToJson();
        </script>
    </body>
</html>
